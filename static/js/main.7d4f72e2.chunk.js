(this.webpackJsonpcrossword=this.webpackJsonpcrossword||[]).push([[0],{17:function(e,t,n){e.exports=n(27)},27:function(e,t,n){"use strict";n.r(t);var r=n(0),i=n.n(r),o=n(11),c=n.n(o),a=n(3),u=n(4),l=n(6),s=n(1),d=n(2),f=n(5);function m(){var e=Object(s.a)(["\n  flex: 1 1 0;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background-color: ",";\n\tmargin: 1px;\n  border-radius: 5px;\n  user-select: none;\n  font-size: 35px;\n  text-transform: uppercase;\n  font-family: sans-serif;\n"]);return m=function(){return e},e}function p(){var e=Object(s.a)(["\n\tdisplay: flex;\n\tflex-direction: ",";\n  justify-content: center;\n  z-index: ","\n\tgrid-column-start: ",";\n\tgrid-row-start: ",";\n\t",": span ",";\n"]);return p=function(){return e},e}var v=Object(d.a)((function(e){e.isSelected,e.coords,e.direction;var t=Object(f.a)(e,["isSelected","coords","direction"]);return i.a.createElement("div",t)}))(p(),(function(e){return e.direction}),(function(e){return e.isSelected?"1":"auto"}),(function(e){return e.coords.x}),(function(e){return e.coords.y}),(function(e){return"row"===e.direction?"grid-column-end":"grid-row-end"}),(function(e){return e.length})),b=Object(d.a)((function(e){e.isSelected,e.isLocked;var t=Object(f.a)(e,["isSelected","isLocked"]);return i.a.createElement("div",t)}))(m(),(function(e){var t=e.isLocked,n=e.isSelected;return t?"rgb(240, 240, 140)":n?"rgb(220, 220, 240)":"rgb(240, 240, 240)"})),x=function(e){var t=e.word,n=e.onSelectWord,r=e.isSelected,o=e.tempLettersState,c=e.onRemoveTempLetter,a=t.text,u=t.coords,l=t.direction,s=t.id,d=a.map((function(e,t){var n=e.isVisible?e.letter:"";return r&&(n=o[t].tempLetter),i.a.createElement(b,{isSelected:r,isLocked:e.isVisible,key:t,onClick:function(){return r&&c(t)}},n)}));return i.a.createElement(v,{onClick:function(){n(s)},isSelected:r,coords:u,direction:l,length:a.length},d)};function g(){var e=Object(s.a)(["\n  width: 500px;\n  height: 500px;\n  display: grid;\n  grid-template-columns: repeat(",", 1fr);\n  grid-template-rows: repeat(",", 1fr);\n  background-color: purple;\n"]);return g=function(){return e},e}var h=Object(d.a)((function(e){e.gridSize;var t=Object(f.a)(e,["gridSize"]);return i.a.createElement("div",t)}))(g(),(function(e){return e.gridSize}),(function(e){return e.gridSize})),w=function(e){var t=e.puzzle,n=e.puzzleState,r=e.onSelectWord,o=e.selectedWordIndex,c=e.tempLettersState,u=e.onRemoveTempLetter,l=t.gridSize,s=t.words,d=[];s.forEach((function(e,t){var r=e.text.map((function(e){return Object(a.a)({},e)}));r.forEach((function(e,r){e.isVisible|=n[t].isLetterDone[r]})),d.push(Object(a.a)({},e,{text:r}))}));var f=d.map((function(e,t){return i.a.createElement(x,{word:e,onSelectWord:function(){return r(t)},isSelected:t===o,tempLettersState:c,onRemoveTempLetter:u,key:t})}));return i.a.createElement(h,{gridSize:l},f)};function j(){var e=Object(s.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  border: 1px solid black;\n  background-color: ","} ;\n  margin: 10px;\n  width: 40px;\n  height: 40px;\n  user-select: none;\n"]);return j=function(){return e},e}function y(){var e=Object(s.a)(["\n\tdisplay: flex;\n\tflex-direction: row;\n\tjustify-content: center;\n\tborder: 1px solid black;\n  height: 40px;\n  font-size: 35px;\n  text-transform: uppercase;\n  font-family: sans-serif;\n"]);return y=function(){return e},e}var O=d.a.div(y()),S=Object(d.a)((function(e){e.isUsed;var t=Object(f.a)(e,["isUsed"]);return i.a.createElement("div",t)}))(j(),(function(e){return e.isUsed?"rgb(128, 128, 128)":"rgb(240, 240, 240)"})),k=function(e){var t=e.letterStates,n=e.onPickTempLetter,r=t.map((function(e,t){return i.a.createElement(S,{isUsed:e.isUsed,onClick:function(){return function(e){e.isUsed||n(e)}(e)},key:t},e.letter)}));return i.a.createElement(O,null,r)};function L(){var e=Object(s.a)(["\n  position: fixed;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  max-width: 100%;\n  max-height: 100%;\n  margin: auto;\n  overflow: auto;\n"]);return L=function(){return e},e}function E(){var e=Object(s.a)(["\n  width: 200px;\n  height: 200px;\n  background-color: purple;\n  margin: 0 auto;\n  display: block;\n"]);return E=function(){return e},e}var z=d.a.img(E()),D=d.a.img(L()),U=function(e){var t=e.url,n=Object(r.useState)(!1),o=Object(u.a)(n,2),c=o[0],a=o[1],l=function(){return a((function(e){return!e}))};return i.a.createElement(i.a.Fragment,null,i.a.createElement(z,{src:t,alt:"",onClick:l}),c&&i.a.createElement(D,{src:t,onClick:l}))};function I(){var e=Object(s.a)(["\n  font-size: 35px;\n  margin: 0 auto;\n  display: block;\n"]);return I=function(){return e},e}var W=d.a.button(I()),T=function(e){return i.a.createElement(W,null,"Next puzzle!")},C=n(14),V=n.n(C);function R(){var e=Object(s.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n"]);return R=function(){return e},e}var A=d.a.div(R()),B="abcdefghijklmnopqrstuvwxyzabcdefghijklmnoprstuvwyaeiou".split("");function J(){var e=Math.floor(Math.random()*B.length);return B[e]}var M=function(e,t,n,r){this.text=Object(l.a)(e).map((function(e){return{letter:e,isVisible:!1}})),this.coords={x:t,y:n},this.letters=[].concat(Object(l.a)(e),Object(l.a)(function(e){for(var t=[],n=0;n<e.length/3||n<3;n++)t.push(J());return t}(e))),V()(this.letters),this.direction=r},P={picture:"https://p1.pxfuel.com/preview/485/1009/177/christmas-cookies-gingerbread-cookie-holiday-christmas-tree-gifts.jpg",gridSize:10,words:[new M("christmas",4,1,"column"),new M("food",7,2,"row"),new M("carol",2,3,"row"),new M("santa",4,5,"row"),new M("merry",4,7,"row"),new M("presents",1,9,"row")]},q=!0,F=!1,N=void 0;try{for(var $,G=P.words[Symbol.iterator]();!(q=($=G.next()).done);q=!0)for(var H=$.value,K=H.coords.x,Q=H.coords.y,X=0;X<H.text.length;X++){var Y=!0,Z=!1,_=void 0;try{for(var ee,te=P.words[Symbol.iterator]();!(Y=(ee=te.next()).done);Y=!0){var ne=ee.value;if(ne!==H)for(var re=ne.coords.x,ie=ne.coords.y,oe=0;oe<ne.text.length;oe++)re===K&&ie===Q&&(H.text[X].overlap={wordIndex:P.words.indexOf(ne),letterIndex:oe}),"row"===ne.direction?re++:ie++}}catch(ue){Z=!0,_=ue}finally{try{Y||null==te.return||te.return()}finally{if(Z)throw _}}"row"===H.direction?K++:Q++}}catch(ue){F=!0,N=ue}finally{try{q||null==G.return||G.return()}finally{if(F)throw N}}var ce=function(e){var t=Object(r.useState)(null),n=Object(u.a)(t,2),o=n[0],c=n[1],s=Object(r.useState)([]),d=Object(u.a)(s,2),f=d[0],m=d[1],p=Object(r.useState)([]),v=Object(u.a)(p,2),b=v[0],x=v[1],g=Object(r.useState)(!1),h=Object(u.a)(g,2),j=h[0],y=h[1],O=Object(r.useState)(P.words.map((function(e){return{isDone:!1,isLetterDone:Array(e.text.length).fill(!1)}}))),S=Object(u.a)(O,2),L=S[0],E=S[1];Object(r.useEffect)((function(){if(null!==o){var e=P.words[o].text;if(f.every((function(t,n){return t.tempLetter===e[n].letter}))){console.log("correct!"),E((function(e){return e.map((function(e,t){return t===o?{isDone:!0,isLetterDone:new Array(e.isLetterDone.length).fill(!0)}:e}))}));var t=!0,n=!1,r=void 0;try{for(var i,u=function(){var e=i.value;e.overlap&&E((function(t){var n=e.overlap,r=n.wordIndex,i=n.letterIndex,o=Object(a.a)({},t[r]);return o.isLetterDone=Object(l.a)(o.isLetterDone),o.isLetterDone[i]=!0,t.map((function(e,t){return t===r?o:e}))}))},s=e[Symbol.iterator]();!(t=(i=s.next()).done);t=!0)u()}catch(ue){n=!0,r=ue}finally{try{t||null==s.return||s.return()}finally{if(n)throw r}}c(null),x([])}}}),[f,o]),Object(r.useEffect)((function(){L.every((function(e){return e.isDone}))&&y(!0)}),[L]);return i.a.createElement(A,null,i.a.createElement(w,{puzzle:P,puzzleState:L,onSelectWord:function(e){if(o!==e&&!L[e].isDone){c(e);var t=P.words[e],n=t.letters.map((function(e,t){return{letter:e,isUsed:!1,id:t}}));m(t.text.map((function(t,r){var i=t.isVisible||L[e].isLetterDone[r];if(i){var o=n.findIndex((function(e){return e.letter===t.letter&&!e.isUsed}));n[o].isUsed=!0}return{isLocked:i,tempLetter:i?t.letter:null}}))),x(n)}},selectedWordIndex:o,tempLettersState:f,onRemoveTempLetter:function(e){if(!f[e].isLocked){m(f.map((function(t,n){return n===e?Object(a.a)({},t,{tempLetter:null}):Object(a.a)({},t)})));var t=f[e].tempLetter,n=b.findIndex((function(e){return e.isUsed&&e.letter===t}));x(b.map((function(e,t){return t===n?Object(a.a)({},e,{isUsed:!1}):e})))}}}),i.a.createElement(U,{url:P.picture}),j&&i.a.createElement(T,null),!j&&i.a.createElement(k,{letterStates:b,onPickTempLetter:function(e){var t=f.findIndex((function(e){return!e.isLocked&&!e.tempLetter}));-1!==t&&(m(f.map((function(n,r){return r===t?Object(a.a)({},n,{tempLetter:e.letter}):Object(a.a)({},n)}))),x(b.map((function(t){return e.id===t.id?Object(a.a)({},t,{isUsed:!0}):t}))))}}))},ae=function(){return i.a.createElement(ce,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(i.a.createElement(ae,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[17,1,2]]]);
//# sourceMappingURL=main.7d4f72e2.chunk.js.map