{"version":3,"sources":["game/Word.js","game/Board.js","game/Tray.js","game/Picture.js","game/NextButton.js","game/Game.js","game/Puzzles.js","App.js","serviceWorker.js","index.js"],"names":["WordContainer","styled","isSelected","coords","direction","otherProps","x","y","length","Square","isLocked","Word","props","word","onSelectWord","tempLettersState","onRemoveTempLetter","text","id","squares","map","letter","index","displayLetter","isVisible","tempLetter","key","onClick","GridContainer","gridSize","Board","puzzle","puzzleState","selectedWordIndex","words","fixedWords","forEach","wordIndex","fixedText","letterIndex","isLetterDone","push","wordBlocks","Container","div","LetterBlock","isUsed","Message","Tray","letterStates","onPickTempLetter","letterBlocks","letterState","handlePickLetter","PictureContainer","img","PictureBacking","PictureOverlay","Picture","url","useState","isBig","setIsBig","handleClick","old","useEffect","window","addEventListener","e","src","alt","StyledNextButton","button","NextButton","onNextLevel","Base","makePuzzleState","isDone","Array","fill","Game","setSelectedWordIndex","setTempLettersState","setLetterStates","isFinished","setIsFinished","setPuzzleState","correctAnswer","every","i","console","log","p","wordState","overlap","newWordState","selectedWord","newLetterStates","letters","char","charIndex","usedIndex","findIndex","selectedLetterIndex","letterToRestore","trayIndex","otherLetterState","picture","selectedLetter","toUpdateIndex","Puzzles","randomLetters","split","randomLetter","Math","floor","random","this","result","getRandomLettersFor","shuffle","otherWord","x2","y2","j","indexOf","App","currentLevel","setCurrentLevel","document","body","style","background","oldLevel","Boolean","location","hostname","match","ReactDOM","render","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.3f81a25d.chunk.js","sourcesContent":["import React from 'react'\nimport PropTypes from 'prop-types'\nimport styled from 'styled-components'\n\nconst WordContainer = styled(({ isSelected, coords, direction, ...otherProps }) => <div {...otherProps} />)`\n\tdisplay: flex;\n\tflex-direction: ${({ direction }) => direction};\n  justify-content: center;\n  z-index: ${({ isSelected}) => isSelected ? '1' : 'auto'}\n\tgrid-column-start: ${({ coords }) => coords.x};\n\tgrid-row-start: ${({ coords }) => coords.y};\n\t${({ direction }) => direction === 'row' ? 'grid-column-end' : 'grid-row-end'}: span ${({ length }) => length};\n`\n\nconst Square = styled(({ isSelected, isLocked, ...otherProps }) => <div {...otherProps} />)`\n  flex: 1 1 0;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background-color: ${({ isLocked, isSelected }) => \n    isLocked ? 'rgb(200, 141, 187)' : \n      isSelected ? 'rgb(220, 220, 240)' : 'rgb(240, 240, 240)'};\n\tmargin: 1px;\n  border-radius: 5px;\n  user-select: none;\n  font-size: 35px;\n  text-transform: uppercase;\n  font-family: sans-serif;\n`\n\nconst Word = props => {\n\tconst { word, onSelectWord, isSelected, tempLettersState, onRemoveTempLetter } = props\n\tconst {\n\t\ttext,\n\t\tcoords,\n\t\tdirection,\n\t\tid,\n\t} = word\n\n\tconst squares = text.map((letter, index) => {\n\t\tlet displayLetter = letter.isVisible ? letter.letter : ''\n\t\tif (isSelected) {\n\t\t\tdisplayLetter= tempLettersState[index].tempLetter\n\t\t}\n\t\treturn (\n\t\t\t<Square isSelected={isSelected} isLocked={letter.isVisible} key={index} onClick={() => isSelected && onRemoveTempLetter(index)}>{displayLetter}</Square>\n\t\t)\n\t})\n\n\treturn (\n\t\t<WordContainer\n\t\t\tonClick={() => {\n        onSelectWord(id)}}\n\t\t\tisSelected={isSelected}\n\t\t\tcoords={coords}\n\t\t\tdirection={direction}\n\t\t\tlength={text.length}\n\t\t>\n\t\t\t{squares}\n\t\t</WordContainer>\n\t)\n}\n\nWord.propTypes = {\n\tword: PropTypes.object,\n\tonSelectWord: PropTypes.func,\n\tisSelected: PropTypes.bool,\n  tempLettersState: PropTypes.array,\n  onRemoveTempLetter: PropTypes.func,\n}\n\nexport default Word","import React from 'react'\nimport PropTypes from 'prop-types'\nimport styled from 'styled-components'\n\nimport Word from './Word'\n\nconst GridContainer = styled(({ gridSize, ...otherProps }) => <div {...otherProps} />)`\n  width: 500px;\n  height: 500px;\n  margin-bottom: 10px;\n  display: grid;\n  grid-template-columns: repeat(${({ gridSize }) => gridSize}, 1fr);\n  grid-template-rows: repeat(${({ gridSize }) => gridSize}, 1fr);\n`\n\nconst Board = props => {\n\tconst { puzzle, puzzleState, onSelectWord, selectedWordIndex, tempLettersState, onRemoveTempLetter } = props\n\tconst { gridSize, words } = puzzle\n\n  // all this should go...\n  const fixedWords = []\n  words.forEach((word, wordIndex) => {\n    const fixedText = word.text.map(letter => { return {...letter}})\n    \n    fixedText.forEach((letter, letterIndex) => {\n      letter.isVisible |= puzzleState[wordIndex]?.isLetterDone[letterIndex]\n    })\n    fixedWords.push({...word, text: fixedText})\n  })\n\n  const wordBlocks = fixedWords.map((word, index) =>\n\t\t<Word\n\t\t\tword={word}\n\t\t\tonSelectWord={() => onSelectWord(index)}\n\t\t\tisSelected={index === selectedWordIndex}\n      tempLettersState={tempLettersState}\n      onRemoveTempLetter={onRemoveTempLetter}\n\t\t\tkey={index}\n\t\t/>\n\t)\n\n\treturn (\n\t\t<GridContainer gridSize={gridSize} >\n\t\t\t{wordBlocks}\n\t\t</GridContainer>\n\t)\n}\n\nBoard.propTypes = {\n\tpuzzle: PropTypes.object,\n\tpuzzleState: PropTypes.array,\n\tonSelectWord: PropTypes.func,\n\tselectedWordIndex: PropTypes.number,\n  tempLettersState: PropTypes.array,\n  onRemoveTempLetter: PropTypes.func,\n}\n\nexport default Board","import React from 'react'\nimport PropTypes from 'prop-types'\nimport styled from 'styled-components'\n\nconst Container = styled.div`\n\tdisplay: flex;\n\tflex-direction: row;\n\tjustify-content: center;\n  font-size: 35px;\n  font-family: sans-serif;\n`\n\nconst LetterBlock = styled(({ isUsed, ...otherProps }) => <div {...otherProps} />)`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  border-radius: 5px;\n  background-color: ${({ isUsed }) => isUsed ? 'rgb(128, 128, 128)' : 'rgb(240, 240, 240)'}} ;\n  margin: 5px;\n  width: 50px;\n  height: 50px;\n  user-select: none;\n  text-transform: uppercase;\n`\n\nconst Message = styled.div`\n  height: 50px;\n  margin: 5px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n`\n\nconst Tray = props => {\n  const { letterStates, onPickTempLetter } = props\n\n  const handlePickLetter = letterState => {\n    if (!letterState.isUsed) {\n      onPickTempLetter(letterState)\n    }\n  }\n\n  const letterBlocks = letterStates.map((letterState, index) => <LetterBlock\n    isUsed={letterState.isUsed}\n    onClick={() => handlePickLetter(letterState)}\n    key={index}>{letterState.letter}</LetterBlock>)\n  return (\n    <Container>\n      {letterBlocks.length ? letterBlocks : <Message>Select a word</Message>}\n    </Container>\n  )\n}\n\nTray.propTypes = {\n  letterStates: PropTypes.array,\n  onPickTempLetter: PropTypes.func\n}\n\nexport default Tray","import React, { useState, useEffect } from 'react'\nimport PropTypes from 'prop-types'\nimport styled from 'styled-components'\n\nconst PictureContainer = styled.img`\n  height: 200px;\n  margin: 10px auto;\n  display: block;\n  -webkit-box-shadow: 4px 4px 15px 0px rgba(92,90,92,1);\n  -moz-box-shadow: 4px 4px 15px 0px rgba(92,90,92,1);\n  box-shadow: 4px 4px 15px 0px rgba(92,90,92,1);\n`\n\nconst PictureBacking = styled.div`\n  position: fixed;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  width: 100%;\n  height: 100%;\n  z-index: 2;\n  background-color: rgba(0, 0, 0, 0.3);\n`\n\nconst PictureOverlay = styled.img`\n  position: fixed;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  max-width: 100%;\n  max-height: 100%;\n  margin: auto;\n  overflow: auto;\n  z-index: 3;\n`\n\nconst Picture = props => {\n  const { url } = props\n  const [isBig, setIsBig] = useState(false)\n\n  const handleClick = () => setIsBig(old => !old)\n\n  useEffect(() => {\n    const callback = (e) => {\n      if (e.key === 'Escape') {\n        setIsBig(false)\n      }\n    }\n    window.addEventListener('keydown', callback)\n  }, [])\n\n\treturn (\n    <>\n      <PictureContainer src={url} alt='' onClick={handleClick} />\n      {isBig && <PictureBacking onClick={handleClick} />}\n      {isBig && <PictureOverlay src={url} onClick={handleClick} />}\n    </>\n\t)\n}\n\nPicture.propTypes = {\n\turl: PropTypes.string,\n}\n\nexport default Picture\n","import React from 'react'\nimport styled from 'styled-components'\n\nconst StyledNextButton = styled.button`\n  font-size: 35px;\n  margin: 0 auto;\n  display: block;\n`\n\nconst NextButton = props => {\n  const { onNextLevel } = props\n\n\treturn (\n\t\t<StyledNextButton onClick={onNextLevel}>Next puzzle!</StyledNextButton>\n\t)\n}\n\nexport default NextButton","import React, { useState, useEffect } from 'react'\nimport styled from 'styled-components'\nimport PropTypes from 'prop-types'\n\nimport Board from './Board'\nimport Tray from './Tray'\nimport Picture from './Picture'\nimport NextButton from './NextButton'\n\n\nconst Base = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  margin: 0 auto;\n  padding: 30px;\n  max-width: 800px;\n  background: #5D4157;  /* fallback for old browsers */\n  background: -webkit-linear-gradient(to top, #A8CABA, #5D4157);  /* Chrome 10-25, Safari 5.1-6 */\n  background: linear-gradient(to top, #A8CABA, #5D4157); /* W3C, IE 10+/ Edge, Firefox 16+, Chrome 26+, Opera 12+, Safari 7+ */\n\n`\n\nconst makePuzzleState = (puzzle) => {\n  return puzzle.words.map(word => { return {\n  isDone: false,\n  isLetterDone: Array(word.text.length).fill(false) \n}})\n}\n\nconst Game = props => {\n  const { puzzle, onNextLevel } = props\n\n  const [selectedWordIndex, setSelectedWordIndex] = useState(null)\n  const [tempLettersState, setTempLettersState] = useState([])\n  const [letterStates, setLetterStates] = useState([])\n\n  const [isFinished, setIsFinished] = useState(false)\n  const [puzzleState, setPuzzleState] = useState(makePuzzleState(puzzle))\n\n  useEffect(() => {\n    setSelectedWordIndex(null)\n    setTempLettersState([])\n    setIsFinished(false)\n    setPuzzleState(makePuzzleState(puzzle))\n  }, [puzzle])\n\n  // Check if a word was solved\n  useEffect(() => {\n    if (selectedWordIndex === null) return\n\n    const correctAnswer = puzzle.words[selectedWordIndex].text\n    if (tempLettersState.every((tempLetter, i) => tempLetter.tempLetter === correctAnswer[i].letter)) {\n      console.log('correct!')\n      // lock in this word\n      setPuzzleState(p => p.map((wordState, i) => i === selectedWordIndex ? { isDone: true, isLetterDone: new Array(wordState.isLetterDone.length).fill(true)} : wordState))\n      // lock in letters shared with other words\n      for (const letter of correctAnswer) {\n        if (letter.overlap) {\n          // how to do cleanly\n          setPuzzleState(puzzleState => {\n            const { wordIndex, letterIndex } = letter.overlap\n            const newWordState = {...puzzleState[wordIndex]}\n            newWordState.isLetterDone = [...newWordState.isLetterDone]\n            newWordState.isLetterDone[letterIndex] = true\n            return puzzleState.map((wordState, index) => index === wordIndex ? newWordState : wordState)\n          })\n        }\n      }\n\n      // end the attempt\n      setSelectedWordIndex(null)\n      setLetterStates([])\n      // a separate useEffect will check if every word is now solved\n    }\n  }, [tempLettersState, selectedWordIndex, puzzle])\n\n  // is game finished?\n  useEffect(() => {\n    if (puzzleState.every(word => word.isDone)) {\n      setIsFinished(true)\n    }\n  }, [puzzleState])\n\n  const handleSelectWord = index => {\n    if (selectedWordIndex === index) return\n    if (puzzleState[index].isDone) return\n\n    setSelectedWordIndex(index)\n\n    const selectedWord = puzzle.words[index]\n    const newLetterStates = selectedWord.letters.map((letter, index) => ({ letter, isUsed: false, id: index }))\n\n    setTempLettersState(selectedWord.text.map((char, charIndex) => {\n\n      const isVisible = char.isVisible || puzzleState[index].isLetterDone[charIndex]\n      if (isVisible) {\n        const usedIndex = newLetterStates.findIndex(letter => letter.letter === char.letter && !letter.isUsed)\n        newLetterStates[usedIndex].isUsed = true\n      }\n      \n      return {\n        isLocked: isVisible,\n        tempLetter: isVisible ? char.letter : null\n      }\n    })\n    )\n\n    setLetterStates(newLetterStates)\n  }\n\n  const handlePickTempLetter = selectedLetter => {\n    const toUpdateIndex = tempLettersState.findIndex(letter => !letter.isLocked && !letter.tempLetter)\n\n    if (toUpdateIndex === -1) return\n\n    setTempLettersState(tempLettersState.map((letter, index) => (\n      index === toUpdateIndex ? { ...letter, tempLetter: selectedLetter.letter } : { ...letter }\n    ))\n    )\n\n    setLetterStates(letterStates.map(otherLetterState => selectedLetter.id === otherLetterState.id ? { ...otherLetterState, isUsed: true } : otherLetterState))\n  }\n\n  const handleRemoveTempLetter = selectedLetterIndex => {\n      if (tempLettersState[selectedLetterIndex].isLocked) return\n\n      setTempLettersState(tempLettersState.map((letter, index) => (\n        index === selectedLetterIndex ? { ...letter, tempLetter: null } : { ...letter }\n      ))\n      )\n\n      const letterToRestore = tempLettersState[selectedLetterIndex].tempLetter\n      const trayIndex = letterStates.findIndex(letter => letter.isUsed && letter.letter === letterToRestore)\n\n    setLetterStates(letterStates.map((otherLetterState, index) => index === trayIndex ? { ...otherLetterState, isUsed: false } : otherLetterState))\n  }\n\n  return (\n    <Base>\n      <Board\n        puzzle={puzzle}\n        puzzleState={puzzleState}\n        onSelectWord={handleSelectWord}\n        selectedWordIndex={selectedWordIndex}\n        tempLettersState={tempLettersState}\n        onRemoveTempLetter={handleRemoveTempLetter}\n      />\n      <Picture url={puzzle.picture}/>\n      {isFinished && <NextButton onNextLevel={onNextLevel}/>}\n      {!isFinished && <Tray\n        letterStates={letterStates}\n        onPickTempLetter={handlePickTempLetter}\n      />}\n    </Base>\n  )\n}\n\nGame.propTypes = {\n\tpuzzle: PropTypes.object,\n\tonNextLevel: PropTypes.func\n}\n\nexport default Game","import shuffle from 'shuffle-array'\n\nconst Puzzles = []\n\n\nconst randomLetters = \n  ('abcdefghijklmnopqrstuvwxyz'\n  + 'abcdefghijklmnoprstuvwy'\n  + 'aeiou').split('')\n\nfunction randomLetter() {\n  const i = Math.floor(Math.random() * randomLetters.length)\n  return randomLetters[i]\n}\n\nfunction getRandomLettersFor(word) {\n  const result = []\n  for (let i = 0; i < word.length / 3 || i < 3; i++) {\n    result.push(randomLetter())\n  }\n  return result\n}\n\nconst Word = function (text, x, y, direction) {\n  this.text = [...text].map(char => ({ letter: char, isVisible: false }))\n  this.coords = { x, y }\n  this.letters = [...text, ...getRandomLettersFor(text)]\n  shuffle(this.letters)\n  this.direction = direction\n}\n\nPuzzles.push({\n  picture: '1.jpg',\n  gridSize: 8,\n  words: [\n    new Word('glasses', 1, 3, 'row'),\n    new Word('desk', 4, 1, 'column'),\n    new Word('laptop', 2, 3, 'column'),\n    new Word('notebook', 1, 7, 'row'),\n  ]\n})\n\nPuzzles.push({\n  picture: '2.jpg',\n  gridSize: 11,\n  words: [\n    new Word('hills', 1, 1, 'row'),\n    new Word('sunset', 5, 1, 'column'),\n    new Word('water', 3, 6, 'row'),\n    new Word('friends', 7, 5, 'column'),\n    new Word('silhouette', 1, 8, 'row'),\n    new Word('sail', 7, 11, 'row'),\n  ]\n})\n\nPuzzles.push({\n  picture: '3.jpg',\n  gridSize: 12,\n  words: [\n    new Word('freedom', 3, 3, 'column'),\n    new Word('horses', 1, 4, 'row'),\n    new Word('peaceful', 2, 6, 'row'),\n    new Word('fence', 7, 6, 'column'),\n    new Word('clouds', 7, 9, 'row'),\n    new Word('grass', 12, 5, 'column'),\n  ]\n})\n\nPuzzles.push({\n  picture: '4.jpg',\n  gridSize: 10,\n  words: [\n    new Word('pet', 1, 2, 'row'),\n    new Word('tail', 3, 2, 'column'),\n    new Word('bicycle', 2, 4, 'row'),\n    new Word('leash', 7, 4, 'column'),\n    new Word('sock', 7, 7, 'row'),\n    new Word('walk', 10, 4, 'column'),\n  ]\n})\n\nPuzzles.push({\n  picture: '5.jpg',\n  gridSize: 10,\n  words: [\n    new Word('kettle', 5, 1, 'row'),\n    new Word('kitchen', 5, 1, 'column'),\n    new Word('celery', 5, 4, 'row'),\n    new Word('spices', 1, 6, 'row'),\n    new Word('apron', 2, 5, 'column'),\n  ]\n})\n\nPuzzles.push({\n  picture: '6.jpg',\n  gridSize: 10,\n  words: [\n    new Word('door', 1, 6, 'column'),\n    new Word('orange', 1, 8, 'row'),\n    new Word('woman', 4, 4, 'column'),\n    new Word('writing', 4, 4, 'row'),\n    new Word('brick', 6, 2, 'column'),\n    new Word('pen', 9, 2, 'column'),\n  ]\n})\n\nfor (const puzzle of Puzzles) {\n  // One letter starts relealed\n  puzzle.words[0].text[0].isVisible = true\n\n  // Find overlapping letters\n  for (const word of puzzle.words) {\n    let x = word.coords.x\n    let y = word.coords.y\n    for (let i = 0; i < word.text.length; i++) {\n      for (const otherWord of puzzle.words) {\n        if (otherWord !== word) {\n          let x2 = otherWord.coords.x\n          let y2 = otherWord.coords.y\n          for (let j = 0; j < otherWord.text.length; j++) {\n            if (x2 === x && y2 === y) {\n              // an overlap\n              word.text[i].overlap = { wordIndex: puzzle.words.indexOf(otherWord), letterIndex: j} \n            }\n            if (otherWord.direction === 'row') {\n              x2++\n            } else {\n              y2++\n            }\n          }\n        }\n      }\n      if (word.direction === 'row') {\n        x++\n      } else {\n        y++\n      }\n    }\n  }\n}\n\nexport default Puzzles","import React, { useState, useEffect } from 'react'\nimport Game from './game/Game'\nimport Puzzles from './game/Puzzles'\n\nconst App = () => {\n  const [currentLevel, setCurrentLevel] = useState(0)\n  const handleNextLevel = () => {\n    setCurrentLevel(oldLevel => oldLevel + 1)\n  }\n\n  useEffect(() => {\n    document.body.style.background = '#191e1c'\n\n    return () => {\n      document.body.style.background = null\n    }\n  }, [])\n\n  return (\n    <Game \n      puzzle={Puzzles[currentLevel % Puzzles.length]}\n      onNextLevel={handleNextLevel}\n    />\n  )\n}\n\nexport default App\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\nimport * as serviceWorker from './serviceWorker'\n\nReactDOM.render(<App />, document.getElementById('root'))\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister()\n"],"sourceRoot":""}