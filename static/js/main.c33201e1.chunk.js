(this.webpackJsonpcrossword=this.webpackJsonpcrossword||[]).push([[0],{17:function(e,t,n){e.exports=n(27)},27:function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),i=n(11),c=n.n(i),a=n(4),u=n(6),l=n(3),s=n(1),d=n(2),f=n(5);function p(){var e=Object(s.a)(["\n  flex: 1 1 0;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background-color: ",";\n\tmargin: 1px;\n  border-radius: 5px;\n  user-select: none;\n  font-size: 35px;\n  text-transform: uppercase;\n  font-family: sans-serif;\n"]);return p=function(){return e},e}function m(){var e=Object(s.a)(["\n\tdisplay: flex;\n\tflex-direction: ",";\n  justify-content: center;\n  z-index: ","\n\tgrid-column-start: ",";\n\tgrid-row-start: ",";\n\t",": span ",";\n"]);return m=function(){return e},e}var v=Object(d.a)((function(e){e.isSelected,e.coords,e.direction;var t=Object(f.a)(e,["isSelected","coords","direction"]);return o.a.createElement("div",t)}))(m(),(function(e){return e.direction}),(function(e){return e.isSelected?"1":"auto"}),(function(e){return e.coords.x}),(function(e){return e.coords.y}),(function(e){return"row"===e.direction?"grid-column-end":"grid-row-end"}),(function(e){return e.length})),b=Object(d.a)((function(e){e.isSelected,e.isLocked;var t=Object(f.a)(e,["isSelected","isLocked"]);return o.a.createElement("div",t)}))(p(),(function(e){var t=e.isLocked,n=e.isSelected;return t?"rgb(240, 240, 140)":n?"rgb(220, 220, 240)":"rgb(240, 240, 240)"})),x=function(e){var t=e.word,n=e.onSelectWord,r=e.isSelected,i=e.tempLettersState,c=e.onRemoveTempLetter,a=t.text,u=t.coords,l=t.direction,s=t.id,d=a.map((function(e,t){var n=e.isVisible?e.letter:"";return r&&(n=i[t].tempLetter),o.a.createElement(b,{isSelected:r,isLocked:e.isVisible,key:t,onClick:function(){return r&&c(t)}},n)}));return o.a.createElement(v,{onClick:function(){n(s)},isSelected:r,coords:u,direction:l,length:a.length},d)};function g(){var e=Object(s.a)(["\n  width: 500px;\n  height: 500px;\n  display: grid;\n  grid-template-columns: repeat(",", 1fr);\n  grid-template-rows: repeat(",", 1fr);\n  background-color: purple;\n"]);return g=function(){return e},e}var h=Object(d.a)((function(e){e.gridSize;var t=Object(f.a)(e,["gridSize"]);return o.a.createElement("div",t)}))(g(),(function(e){return e.gridSize}),(function(e){return e.gridSize})),j=function(e){var t=e.puzzle,n=e.puzzleState,r=e.onSelectWord,i=e.selectedWordIndex,c=e.tempLettersState,a=e.onRemoveTempLetter,u=t.gridSize,s=t.words,d=[];s.forEach((function(e,t){var r=e.text.map((function(e){return Object(l.a)({},e)}));r.forEach((function(e,r){var o;e.isVisible|=null===(o=n[t])||void 0===o?void 0:o.isLetterDone[r]})),d.push(Object(l.a)({},e,{text:r}))}));var f=d.map((function(e,t){return o.a.createElement(x,{word:e,onSelectWord:function(){return r(t)},isSelected:t===i,tempLettersState:c,onRemoveTempLetter:a,key:t})}));return o.a.createElement(h,{gridSize:u},f)};function w(){var e=Object(s.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  border: 1px solid black;\n  background-color: ","} ;\n  margin: 10px;\n  width: 40px;\n  height: 40px;\n  user-select: none;\n"]);return w=function(){return e},e}function O(){var e=Object(s.a)(["\n\tdisplay: flex;\n\tflex-direction: row;\n\tjustify-content: center;\n\tborder: 1px solid black;\n  height: 40px;\n  font-size: 35px;\n  text-transform: uppercase;\n  font-family: sans-serif;\n"]);return O=function(){return e},e}var y=d.a.div(O()),S=Object(d.a)((function(e){e.isUsed;var t=Object(f.a)(e,["isUsed"]);return o.a.createElement("div",t)}))(w(),(function(e){return e.isUsed?"rgb(128, 128, 128)":"rgb(240, 240, 240)"})),L=function(e){var t=e.letterStates,n=e.onPickTempLetter,r=t.map((function(e,t){return o.a.createElement(S,{isUsed:e.isUsed,onClick:function(){return function(e){e.isUsed||n(e)}(e)},key:t},e.letter)}));return o.a.createElement(y,null,r)};function k(){var e=Object(s.a)(["\n  position: fixed;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  max-width: 100%;\n  max-height: 100%;\n  margin: auto;\n  overflow: auto;\n  z-index: 2;\n"]);return k=function(){return e},e}function z(){var e=Object(s.a)(["\n  height: 200px;\n  background-color: purple;\n  margin: 0 auto;\n  display: block;\n"]);return z=function(){return e},e}var E=d.a.img(z()),D=d.a.img(k()),U=function(e){var t=e.url,n=Object(r.useState)(!1),i=Object(a.a)(n,2),c=i[0],u=i[1],l=function(){return u((function(e){return!e}))};return o.a.createElement(o.a.Fragment,null,o.a.createElement(E,{src:t,alt:"",onClick:l}),c&&o.a.createElement(D,{src:t,onClick:l}))};function I(){var e=Object(s.a)(["\n  font-size: 35px;\n  margin: 0 auto;\n  display: block;\n"]);return I=function(){return e},e}var W=d.a.button(I()),C=function(e){var t=e.onNextLevel;return o.a.createElement(W,{onClick:t},"Next puzzle!")};function T(){var e=Object(s.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n"]);return T=function(){return e},e}var N=d.a.div(T()),V=function(e){return e.words.map((function(e){return{isDone:!1,isLetterDone:Array(e.text.length).fill(!1)}}))},R=function(e){var t=e.puzzle,n=e.onNextLevel;console.log(n);var i=Object(r.useState)(null),c=Object(a.a)(i,2),s=c[0],d=c[1],f=Object(r.useState)([]),p=Object(a.a)(f,2),m=p[0],v=p[1],b=Object(r.useState)([]),x=Object(a.a)(b,2),g=x[0],h=x[1],w=Object(r.useState)(!1),O=Object(a.a)(w,2),y=O[0],S=O[1],k=Object(r.useState)(V(t)),z=Object(a.a)(k,2),E=z[0],D=z[1];Object(r.useEffect)((function(){d(null),v([]),S(!1),D(V(t))}),[t]),Object(r.useEffect)((function(){if(null!==s){var e=t.words[s].text;if(m.every((function(t,n){return t.tempLetter===e[n].letter}))){console.log("correct!"),D((function(e){return e.map((function(e,t){return t===s?{isDone:!0,isLetterDone:new Array(e.isLetterDone.length).fill(!0)}:e}))}));var n=!0,r=!1,o=void 0;try{for(var i,c=function(){var e=i.value;e.overlap&&D((function(t){var n=e.overlap,r=n.wordIndex,o=n.letterIndex,i=Object(l.a)({},t[r]);return i.isLetterDone=Object(u.a)(i.isLetterDone),i.isLetterDone[o]=!0,t.map((function(e,t){return t===r?i:e}))}))},a=e[Symbol.iterator]();!(n=(i=a.next()).done);n=!0)c()}catch(f){r=!0,o=f}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}d(null),h([])}}}),[m,s,t]),Object(r.useEffect)((function(){E.every((function(e){return e.isDone}))&&S(!0)}),[E]);return o.a.createElement(N,null,o.a.createElement(j,{puzzle:t,puzzleState:E,onSelectWord:function(e){if(s!==e&&!E[e].isDone){d(e);var n=t.words[e],r=n.letters.map((function(e,t){return{letter:e,isUsed:!1,id:t}}));v(n.text.map((function(t,n){var o=t.isVisible||E[e].isLetterDone[n];if(o){var i=r.findIndex((function(e){return e.letter===t.letter&&!e.isUsed}));r[i].isUsed=!0}return{isLocked:o,tempLetter:o?t.letter:null}}))),h(r)}},selectedWordIndex:s,tempLettersState:m,onRemoveTempLetter:function(e){if(!m[e].isLocked){v(m.map((function(t,n){return n===e?Object(l.a)({},t,{tempLetter:null}):Object(l.a)({},t)})));var t=m[e].tempLetter,n=g.findIndex((function(e){return e.isUsed&&e.letter===t}));h(g.map((function(e,t){return t===n?Object(l.a)({},e,{isUsed:!1}):e})))}}}),o.a.createElement(U,{url:t.picture}),y&&o.a.createElement(C,{onNextLevel:n}),!y&&o.a.createElement(L,{letterStates:g,onPickTempLetter:function(e){var t=m.findIndex((function(e){return!e.isLocked&&!e.tempLetter}));-1!==t&&(v(m.map((function(n,r){return r===t?Object(l.a)({},n,{tempLetter:e.letter}):Object(l.a)({},n)}))),h(g.map((function(t){return e.id===t.id?Object(l.a)({},t,{isUsed:!0}):t}))))}}))},A=n(14),B=n.n(A),J=[],M="abcdefghijklmnopqrstuvwxyzabcdefghijklmnoprstuvwyaeiou".split("");function P(){var e=Math.floor(Math.random()*M.length);return M[e]}var q=function(e,t,n,r){this.text=Object(u.a)(e).map((function(e){return{letter:e,isVisible:!1}})),this.coords={x:t,y:n},this.letters=[].concat(Object(u.a)(e),Object(u.a)(function(e){for(var t=[],n=0;n<e.length/3||n<3;n++)t.push(P());return t}(e))),B()(this.letters),this.direction=r};J.push({picture:"1.jpg",gridSize:10,words:[new q("glasses",1,4,"row"),new q("desk",4,2,"column"),new q("laptop",2,4,"column"),new q("notebook",1,8,"row")]}),J.push({picture:"2.jpg",gridSize:11,words:[new q("hills",1,1,"row"),new q("sunset",5,1,"column"),new q("water",3,6,"row"),new q("friends",7,5,"column")]});for(var F=0,$=J;F<$.length;F++){var G=$[F],H=!0,K=!1,Q=void 0;try{for(var X,Y=G.words[Symbol.iterator]();!(H=(X=Y.next()).done);H=!0)for(var Z=X.value,_=Z.coords.x,ee=Z.coords.y,te=0;te<Z.text.length;te++){var ne=!0,re=!1,oe=void 0;try{for(var ie,ce=G.words[Symbol.iterator]();!(ne=(ie=ce.next()).done);ne=!0){var ae=ie.value;if(ae!==Z)for(var ue=ae.coords.x,le=ae.coords.y,se=0;se<ae.text.length;se++)ue===_&&le===ee&&(Z.text[te].overlap={wordIndex:G.words.indexOf(ae),letterIndex:se}),"row"===ae.direction?ue++:le++}}catch(pe){re=!0,oe=pe}finally{try{ne||null==ce.return||ce.return()}finally{if(re)throw oe}}"row"===Z.direction?_++:ee++}}catch(pe){K=!0,Q=pe}finally{try{H||null==Y.return||Y.return()}finally{if(K)throw Q}}}var de=J,fe=function(){var e=Object(r.useState)(0),t=Object(a.a)(e,2),n=t[0],i=t[1];return o.a.createElement(R,{puzzle:de[n%de.length],onNextLevel:function(){i((function(e){return e+1}))}})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(o.a.createElement(fe,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[17,1,2]]]);
//# sourceMappingURL=main.c33201e1.chunk.js.map