(this.webpackJsonpcrossword=this.webpackJsonpcrossword||[]).push([[0],{17:function(e,t,n){e.exports=n(27)},27:function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),i=n(11),c=n.n(i),a=n(4),u=n(6),l=n(3),s=n(1),d=n(2),f=n(5);function p(){var e=Object(s.a)(["\n  flex: 1 1 0;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background-color: ",";\n\tmargin: 1px;\n  border-radius: 5px;\n  user-select: none;\n  font-size: 35px;\n  text-transform: uppercase;\n  font-family: sans-serif;\n"]);return p=function(){return e},e}function m(){var e=Object(s.a)(["\n\tdisplay: flex;\n\tflex-direction: ",";\n  justify-content: center;\n  z-index: ","\n\tgrid-column-start: ",";\n\tgrid-row-start: ",";\n\t",": span ",";\n"]);return m=function(){return e},e}var w=Object(d.a)((function(e){e.isSelected,e.coords,e.direction;var t=Object(f.a)(e,["isSelected","coords","direction"]);return o.a.createElement("div",t)}))(m(),(function(e){return e.direction}),(function(e){return e.isSelected?"1":"auto"}),(function(e){return e.coords.x}),(function(e){return e.coords.y}),(function(e){return"row"===e.direction?"grid-column-end":"grid-row-end"}),(function(e){return e.length})),b=Object(d.a)((function(e){e.isSelected,e.isLocked;var t=Object(f.a)(e,["isSelected","isLocked"]);return o.a.createElement("div",t)}))(p(),(function(e){var t=e.isLocked,n=e.isSelected;return t?"rgb(200, 141, 187)":n?"rgb(220, 220, 240)":"rgb(240, 240, 240)"})),v=function(e){var t=e.word,n=e.onSelectWord,r=e.isSelected,i=e.tempLettersState,c=e.onRemoveTempLetter,a=t.text,u=t.coords,l=t.direction,s=t.id,d=a.map((function(e,t){var n=e.isVisible?e.letter:"";return r&&(n=i[t].tempLetter),o.a.createElement(b,{isSelected:r,isLocked:e.isVisible,key:t,onClick:function(){return r&&c(t)}},n)}));return o.a.createElement(w,{onClick:function(){n(s)},isSelected:r,coords:u,direction:l,length:a.length},d)};function g(){var e=Object(s.a)(["\n  width: 500px;\n  height: 500px;\n  margin-bottom: 10px;\n  display: grid;\n  grid-template-columns: repeat(",", 1fr);\n  grid-template-rows: repeat(",", 1fr);\n"]);return g=function(){return e},e}var x=Object(d.a)((function(e){e.gridSize;var t=Object(f.a)(e,["gridSize"]);return o.a.createElement("div",t)}))(g(),(function(e){return e.gridSize}),(function(e){return e.gridSize})),h=function(e){var t=e.puzzle,n=e.puzzleState,r=e.onSelectWord,i=e.selectedWordIndex,c=e.tempLettersState,a=e.onRemoveTempLetter,u=t.gridSize,s=t.words,d=[];s.forEach((function(e,t){var r=e.text.map((function(e){return Object(l.a)({},e)}));r.forEach((function(e,r){var o;e.isVisible|=null===(o=n[t])||void 0===o?void 0:o.isLetterDone[r]})),d.push(Object(l.a)({},e,{text:r}))}));var f=d.map((function(e,t){return o.a.createElement(v,{word:e,onSelectWord:function(){return r(t)},isSelected:t===i,tempLettersState:c,onRemoveTempLetter:a,key:t})}));return o.a.createElement(x,{gridSize:u},f)};function j(){var e=Object(s.a)(["\n  height: 50px;\n  margin: 5px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]);return j=function(){return e},e}function y(){var e=Object(s.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  border-radius: 5px;\n  background-color: ","} ;\n  margin: 5px;\n  width: 50px;\n  height: 50px;\n  user-select: none;\n  text-transform: uppercase;\n"]);return y=function(){return e},e}function O(){var e=Object(s.a)(["\n\tdisplay: flex;\n\tflex-direction: row;\n\tjustify-content: center;\n  font-size: 35px;\n  font-family: sans-serif;\n"]);return O=function(){return e},e}var k=d.a.div(O()),S=Object(d.a)((function(e){e.isUsed;var t=Object(f.a)(e,["isUsed"]);return o.a.createElement("div",t)}))(y(),(function(e){return e.isUsed?"rgb(128, 128, 128)":"rgb(240, 240, 240)"})),L=d.a.div(j()),E=function(e){var t=e.letterStates,n=e.onPickTempLetter,r=t.map((function(e,t){return o.a.createElement(S,{isUsed:e.isUsed,onClick:function(){return function(e){e.isUsed||n(e)}(e)},key:t},e.letter)}));return o.a.createElement(k,null,r.length?r:o.a.createElement(L,null,"Select a word"))};function z(){var e=Object(s.a)(["\n  position: fixed;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  max-width: 100%;\n  max-height: 100%;\n  margin: auto;\n  overflow: auto;\n  z-index: 3;\n"]);return z=function(){return e},e}function D(){var e=Object(s.a)(["\n  position: fixed;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  width: 100%;\n  height: 100%;\n  z-index: 2;\n  background-color: rgba(0, 0, 0, 0.3);\n"]);return D=function(){return e},e}function C(){var e=Object(s.a)(["\n  height: 200px;\n  margin: 10px auto;\n  display: block;\n  -webkit-box-shadow: 4px 4px 15px 0px rgba(92,90,92,1);\n  -moz-box-shadow: 4px 4px 15px 0px rgba(92,90,92,1);\n  box-shadow: 4px 4px 15px 0px rgba(92,90,92,1);\n"]);return C=function(){return e},e}var U=d.a.img(C()),I=d.a.div(D()),W=d.a.img(z()),A=function(e){var t=e.url,n=Object(r.useState)(!1),i=Object(a.a)(n,2),c=i[0],u=i[1],l=function(){return u((function(e){return!e}))};return Object(r.useEffect)((function(){window.addEventListener("keydown",(function(e){"Escape"===e.key&&u(!1)}))}),[]),o.a.createElement(o.a.Fragment,null,o.a.createElement(U,{src:t,alt:"",onClick:l}),c&&o.a.createElement(I,{onClick:l}),c&&o.a.createElement(W,{src:t,onClick:l}))};function T(){var e=Object(s.a)(["\n  font-size: 35px;\n  margin: 0 auto;\n  display: block;\n"]);return T=function(){return e},e}var V=d.a.button(T()),N=function(e){var t=e.onNextLevel;return o.a.createElement(V,{onClick:t},"Next puzzle!")};function B(){var e=Object(s.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  margin: 0 auto;\n  padding: 30px;\n  max-width: 800px;\n  background: #5D4157;  /* fallback for old browsers */\n  background: -webkit-linear-gradient(to top, #A8CABA, #5D4157);  /* Chrome 10-25, Safari 5.1-6 */\n  background: linear-gradient(to top, #A8CABA, #5D4157); /* W3C, IE 10+/ Edge, Firefox 16+, Chrome 26+, Opera 12+, Safari 7+ */\n\n"]);return B=function(){return e},e}var R=d.a.div(B()),F=function(e){return e.words.map((function(e){return{isDone:!1,isLetterDone:Array(e.text.length).fill(!1)}}))},J=function(e){var t=e.puzzle,n=e.onNextLevel,i=Object(r.useState)(null),c=Object(a.a)(i,2),s=c[0],d=c[1],f=Object(r.useState)([]),p=Object(a.a)(f,2),m=p[0],w=p[1],b=Object(r.useState)([]),v=Object(a.a)(b,2),g=v[0],x=v[1],j=Object(r.useState)(!1),y=Object(a.a)(j,2),O=y[0],k=y[1],S=Object(r.useState)(F(t)),L=Object(a.a)(S,2),z=L[0],D=L[1];Object(r.useEffect)((function(){d(null),w([]),k(!1),D(F(t))}),[t]),Object(r.useEffect)((function(){if(null!==s){var e=t.words[s].text;if(m.every((function(t,n){return t.tempLetter===e[n].letter}))){console.log("correct!"),D((function(e){return e.map((function(e,t){return t===s?{isDone:!0,isLetterDone:new Array(e.isLetterDone.length).fill(!0)}:e}))}));var n=!0,r=!1,o=void 0;try{for(var i,c=function(){var e=i.value;e.overlap&&D((function(t){var n=e.overlap,r=n.wordIndex,o=n.letterIndex,i=Object(l.a)({},t[r]);return i.isLetterDone=Object(u.a)(i.isLetterDone),i.isLetterDone[o]=!0,t.map((function(e,t){return t===r?i:e}))}))},a=e[Symbol.iterator]();!(n=(i=a.next()).done);n=!0)c()}catch(f){r=!0,o=f}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}d(null),x([])}}}),[m,s,t]),Object(r.useEffect)((function(){z.every((function(e){return e.isDone}))&&k(!0)}),[z]);return o.a.createElement(R,null,o.a.createElement(h,{puzzle:t,puzzleState:z,onSelectWord:function(e){if(s!==e&&!z[e].isDone){d(e);var n=t.words[e],r=n.letters.map((function(e,t){return{letter:e,isUsed:!1,id:t}}));w(n.text.map((function(t,n){var o=t.isVisible||z[e].isLetterDone[n];if(o){var i=r.findIndex((function(e){return e.letter===t.letter&&!e.isUsed}));r[i].isUsed=!0}return{isLocked:o,tempLetter:o?t.letter:null}}))),x(r)}},selectedWordIndex:s,tempLettersState:m,onRemoveTempLetter:function(e){if(!m[e].isLocked){w(m.map((function(t,n){return n===e?Object(l.a)({},t,{tempLetter:null}):Object(l.a)({},t)})));var t=m[e].tempLetter,n=g.findIndex((function(e){return e.isUsed&&e.letter===t}));x(g.map((function(e,t){return t===n?Object(l.a)({},e,{isUsed:!1}):e})))}}}),o.a.createElement(A,{url:t.picture}),O&&o.a.createElement(N,{onNextLevel:n}),!O&&o.a.createElement(E,{letterStates:g,onPickTempLetter:function(e){var t=m.findIndex((function(e){return!e.isLocked&&!e.tempLetter}));-1!==t&&(w(m.map((function(n,r){return r===t?Object(l.a)({},n,{tempLetter:e.letter}):Object(l.a)({},n)}))),x(g.map((function(t){return e.id===t.id?Object(l.a)({},t,{isUsed:!0}):t}))))}}))},M=n(14),P=n.n(M),q=[],$="abcdefghijklmnopqrstuvwxyzabcdefghijklmnoprstuvwyaeiou".split("");function G(){var e=Math.floor(Math.random()*$.length);return $[e]}var H=function(e,t,n,r){this.text=Object(u.a)(e).map((function(e){return{letter:e,isVisible:!1}})),this.coords={x:t,y:n},this.letters=[].concat(Object(u.a)(e),Object(u.a)(function(e){for(var t=[],n=0;n<e.length/3||n<3;n++)t.push(G());return t}(e))),P()(this.letters),this.direction=r};q.push({picture:"1.jpg",gridSize:8,words:[new H("glasses",1,3,"row"),new H("desk",4,1,"column"),new H("laptop",2,3,"column"),new H("notebook",1,7,"row")]}),q.push({picture:"2.jpg",gridSize:11,words:[new H("hills",1,1,"row"),new H("sunset",5,1,"column"),new H("water",3,6,"row"),new H("friends",7,5,"column"),new H("silhouette",1,8,"row"),new H("sail",7,11,"row")]}),q.push({picture:"3.jpg",gridSize:12,words:[new H("freedom",3,3,"column"),new H("horses",1,4,"row"),new H("peaceful",2,6,"row"),new H("fence",7,6,"column"),new H("clouds",7,9,"row"),new H("grass",12,5,"column")]}),q.push({picture:"4.jpg",gridSize:10,words:[new H("pet",1,2,"row"),new H("tail",3,2,"column"),new H("bicycle",2,4,"row"),new H("leash",7,4,"column"),new H("sock",7,7,"row"),new H("walk",10,4,"column")]}),q.push({picture:"5.jpg",gridSize:10,words:[new H("kettle",5,1,"row"),new H("kitchen",5,1,"column"),new H("celery",5,4,"row"),new H("spices",1,6,"row"),new H("apron",2,5,"column")]}),q.push({picture:"6.jpg",gridSize:10,words:[new H("door",1,6,"column"),new H("orange",1,8,"row"),new H("woman",4,4,"column"),new H("writing",4,4,"row"),new H("brick",6,2,"column"),new H("pen",9,2,"column")]});for(var K=0,Q=q;K<Q.length;K++){var X=Q[K];X.words[0].text[0].isVisible=!0;var Y=!0,Z=!1,_=void 0;try{for(var ee,te=X.words[Symbol.iterator]();!(Y=(ee=te.next()).done);Y=!0)for(var ne=ee.value,re=ne.coords.x,oe=ne.coords.y,ie=0;ie<ne.text.length;ie++){var ce=!0,ae=!1,ue=void 0;try{for(var le,se=X.words[Symbol.iterator]();!(ce=(le=se.next()).done);ce=!0){var de=le.value;if(de!==ne)for(var fe=de.coords.x,pe=de.coords.y,me=0;me<de.text.length;me++)fe===re&&pe===oe&&(ne.text[ie].overlap={wordIndex:X.words.indexOf(de),letterIndex:me}),"row"===de.direction?fe++:pe++}}catch(ve){ae=!0,ue=ve}finally{try{ce||null==se.return||se.return()}finally{if(ae)throw ue}}"row"===ne.direction?re++:oe++}}catch(ve){Z=!0,_=ve}finally{try{Y||null==te.return||te.return()}finally{if(Z)throw _}}}var we=q,be=function(){var e=Object(r.useState)(0),t=Object(a.a)(e,2),n=t[0],i=t[1];return Object(r.useEffect)((function(){return document.body.style.background="#191e1c",function(){document.body.style.background=null}}),[]),o.a.createElement(J,{puzzle:we[n%we.length],onNextLevel:function(){i((function(e){return e+1}))}})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(o.a.createElement(be,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[17,1,2]]]);
//# sourceMappingURL=main.3f81a25d.chunk.js.map